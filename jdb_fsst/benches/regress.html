<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>jdb_fsst Performance Regression</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: -apple-system, sans-serif; margin: 20px; background: #1a1a2e; color: #eee; }
    h1 { color: #00d4ff; margin-bottom: 5px; }
    .subtitle { color: #888; margin-bottom: 20px; }
    .latest { background: #16213e; padding: 15px; border-radius: 8px; margin: 20px 0; }
    .latest h3 { margin-top: 0; color: #00d4ff; }
    .metrics { display: flex; flex-wrap: wrap; gap: 15px; }
    .metric { background: #0f3460; padding: 12px 16px; border-radius: 6px; min-width: 140px; }
    .metric .label { font-size: 11px; color: #888; margin-bottom: 4px; }
    .metric .value { font-size: 18px; font-weight: bold; color: #fff; }
    .metric .diff { font-size: 12px; margin-top: 4px; }
    .metric .diff.improved { color: #0f0; }
    .metric .diff.regressed { color: #f66; }
    .metric .diff.neutral { color: #ff0; }
    .chart-container { width: 100%; max-width: 1200px; margin: 30px 0; }
  </style>
</head>
<body>
  <h1>jdb_fsst Performance Regression</h1>
  <div class="subtitle">Commit: ddd4213 (dev) | 2026-01-14 10:53:12</div>
  <div class="latest">
    <h3>Latest Results</h3>
    <div class="metrics">
      <div class="metric">
        <div class="label">我的压缩率</div>
        <div class="value">50.63%</div>
        <div class="diff neutral">+0.9%</div>
      </div>
      <div class="metric">
        <div class="label">我的吞吐</div>
        <div class="value">457.40MB/s</div>
        <div class="diff improved">+7.9%</div>
      </div>
      <div class="metric">
        <div class="label">参考压缩率</div>
        <div class="value">53.38%</div>
        <div class="diff neutral">+0.7%</div>
      </div>
      <div class="metric">
        <div class="label">参考吞吐</div>
        <div class="value">340.75MB/s</div>
        <div class="diff improved">+7.2%</div>
      </div>
      <div class="metric">
        <div class="label">加速倍数</div>
        <div class="value">1.34x</div>
        <div class="diff neutral">+0.7%</div>
      </div>
      <div class="metric">
        <div class="label">压缩率提升</div>
        <div class="value">1.05x</div>
        <div class="diff neutral">-0.2%</div>
      </div></div>
  </div>
  <div class="chart-container"><canvas id="chart_throughput"></canvas></div>
  <div class="chart-container"><canvas id="chart_ratio"></canvas></div>
  <script>
    const data = [{"date":"2026-01-14 10:44:58","commit":"850f3d9","branch":"dev","my_ratio":50.4408,"my_throughput":454.31,"ref_ratio":52.7828,"ref_throughput":334.28,"speedup":1.3591},{"date":"2026-01-14 10:45:06","commit":"850f3d9","branch":"dev","my_ratio":50.3195,"my_throughput":448.97,"ref_ratio":52.9412,"ref_throughput":337.01,"speedup":1.3322},{"date":"2026-01-14 10:45:08","commit":"850f3d9","branch":"dev","my_ratio":50.5688,"my_throughput":450.6,"ref_ratio":52.6824,"ref_throughput":334.7,"speedup":1.3463},{"date":"2026-01-14 10:45:11","commit":"850f3d9","branch":"dev","my_ratio":50.2036,"my_throughput":443.92,"ref_ratio":52.7674,"ref_throughput":330.34,"speedup":1.3438},{"date":"2026-01-14 10:45:35","commit":"f658946","branch":"dev","my_ratio":50.0591,"my_throughput":428.84,"ref_ratio":53.3967,"ref_throughput":319.96,"speedup":1.3403},{"date":"2026-01-14 10:49:48","commit":"4412284","branch":"dev","my_ratio":50.5487,"my_throughput":413.11,"ref_ratio":52.8468,"ref_throughput":310.41,"speedup":1.3309,"ratio_speedup":1.0455},{"date":"2026-01-14 10:50:59","commit":"4412284","branch":"dev","my_ratio":49.9585,"my_throughput":420.76,"ref_ratio":53.0452,"ref_throughput":308.33,"speedup":1.3646,"ratio_speedup":1.0618},{"date":"2026-01-14 10:51:45","commit":"44774a9","branch":"dev","my_ratio":50.2284,"my_throughput":433.51,"ref_ratio":52.9788,"ref_throughput":322.61,"speedup":1.3438,"ratio_speedup":1.0548},{"date":"2026-01-14 10:51:54","commit":"44774a9","branch":"dev","my_ratio":49.9518,"my_throughput":441.83,"ref_ratio":52.8626,"ref_throughput":335.81,"speedup":1.3157,"ratio_speedup":1.0583},{"date":"2026-01-14 10:52:22","commit":"44774a9","branch":"dev","my_ratio":50.448,"my_throughput":414.77,"ref_ratio":52.9093,"ref_throughput":313.11,"speedup":1.3247,"ratio_speedup":1.0488},{"date":"2026-01-14 10:52:52","commit":"ddd4213","branch":"dev","my_ratio":50.1724,"my_throughput":423.75,"ref_ratio":53.0295,"ref_throughput":317.89,"speedup":1.333,"ratio_speedup":1.0569},{"date":"2026-01-14 10:53:12","commit":"ddd4213","branch":"dev","my_ratio":50.625,"my_throughput":457.4,"ref_ratio":53.3806,"ref_throughput":340.75,"speedup":1.3423,"ratio_speedup":1.0544}];
    const labels = data.map(d => d.commit);
    
    new Chart(document.getElementById("chart_throughput"), {
      type: "line",
      data: {
        labels: labels,
        datasets: [
          { label: "My Throughput (MB/s)", data: data.map(d => d.my_throughput), borderColor: "#00d4ff", tension: 0.3 },
          { label: "Ref Throughput (MB/s)", data: data.map(d => d.ref_throughput), borderColor: "#ff6b6b", tension: 0.3 }
        ]
      },
      options: { plugins: { title: { display: true, text: "Throughput (Higher is better)", color: "#eee" } } }
    });

    new Chart(document.getElementById("chart_ratio"), {
      type: "line",
      data: {
        labels: labels,
        datasets: [
          { label: "My Ratio (%)", data: data.map(d => d.my_ratio), borderColor: "#0f0", tension: 0.3 },
          { label: "Ref Ratio (%)", data: data.map(d => d.ref_ratio), borderColor: "#ff0", tension: 0.3 }
        ]
      },
      options: { plugins: { title: { display: true, text: "Compression Ratio (Lower is better)", color: "#eee" } } }
    });
  </script>
</body>
</html>